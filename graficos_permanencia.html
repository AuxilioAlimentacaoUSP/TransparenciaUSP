<!DOCTYPE html>
<html lang="pt-br">
    <head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="normalize.css">
	<link rel="stylesheet" href="styles.css">
	
	<title>GT de Transparência</title>
	<style>
		* {
		  margin: 0;
		  padding: 0;
		  font-family: sans-serif;
		}
		.chartMenu {
		  width: 400px;
		  height: 40px;
		  color: #152039;
		}
		.chartMenu p {
		  padding: 10px;
		  font-size: 30px;
		}
		
		.chartBox {
		  width: 700px;
		  padding: 20px;
		  border-radius: 20px;
		  background: #fff7d5;
		}
	  </style>
    </head>
    <body>
	<!-- SVG Icons Definitions -->
	<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
	    <defs>
		<symbol id="icon-facebook" viewBox="0 0 32 32">
		    <path d="M29 0h-26c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h13v-14h-4v-4h4v-2c0-3.306 2.694-6 6-6h4v4h-4c-1.1 0-2 0.9-2 2v2h6l-1 4h-5v14h9c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3z"></path>
		</symbol>
		<symbol id="icon-instagram" viewBox="0 0 32 32">
		    <path d="M16 2.881c4.275 0 4.781 0.019 6.462 0.094 1.563 0.069 2.406 0.331 2.969 0.55 0.744 0.288 1.281 0.638 1.837 1.194 0.563 0.563 0.906 1.094 1.2 1.838 0.219 0.563 0.481 1.412 0.55 2.969 0.075 1.688 0.094 2.194 0.094 6.463s-0.019 4.781-0.094 6.463c-0.069 1.563-0.331 2.406-0.55 2.969-0.288 0.744-0.637 1.281-1.194 1.837-0.563 0.563-1.094 0.906-1.837 1.2-0.563 0.219-1.413 0.481-2.969 0.55-1.688 0.075-2.194 0.094-6.463 0.094s-4.781-0.019-6.463-0.094c-1.563-0.069-2.406-0.331-2.969-0.55-0.744-0.288-1.281-0.637-1.838-1.194-0.563-0.563-0.906-1.094-1.2-1.837-0.219-0.563-0.481-1.413-0.55-2.969-0.075-1.688-0.094-2.194-0.094-6.463s0.019-4.781 0.094-6.463c0.069-1.563 0.331-2.406 0.55-2.969 0.288-0.744 0.638-1.281 1.194-1.838 0.563-0.563 1.094-0.906 1.838-1.2 0.563-0.219 1.412-0.481 2.969-0.55 1.681-0.075 2.188-0.094 6.463-0.094zM16 0c-4.344 0-4.887 0.019-6.594 0.094-1.7 0.075-2.869 0.35-3.881 0.744-1.056 0.412-1.95 0.956-2.837 1.85-0.894 0.888-1.438 1.781-1.85 2.831-0.394 1.019-0.669 2.181-0.744 3.881-0.075 1.713-0.094 2.256-0.094 6.6s0.019 4.887 0.094 6.594c0.075 1.7 0.35 2.869 0.744 3.881 0.413 1.056 0.956 1.95 1.85 2.837 0.887 0.887 1.781 1.438 2.831 1.844 1.019 0.394 2.181 0.669 3.881 0.744 1.706 0.075 2.25 0.094 6.594 0.094s4.888-0.019 6.594-0.094c1.7-0.075 2.869-0.35 3.881-0.744 1.050-0.406 1.944-0.956 2.831-1.844s1.438-1.781 1.844-2.831c0.394-1.019 0.669-2.181 0.744-3.881 0.075-1.706 0.094-2.25 0.094-6.594s-0.019-4.887-0.094-6.594c-0.075-1.7-0.35-2.869-0.744-3.881-0.394-1.063-0.938-1.956-1.831-2.844-0.887-0.887-1.781-1.438-2.831-1.844-1.019-0.394-2.181-0.669-3.881-0.744-1.712-0.081-2.256-0.1-6.6-0.1v0z"></path>
		    <path d="M16 7.781c-4.537 0-8.219 3.681-8.219 8.219s3.681 8.219 8.219 8.219 8.219-3.681 8.219-8.219c0-4.537-3.681-8.219-8.219-8.219zM16 21.331c-2.944 0-5.331-2.387-5.331-5.331s2.387-5.331 5.331-5.331c2.944 0 5.331 2.387 5.331 5.331s-2.387 5.331-5.331 5.331z"></path>
		    <path d="M26.462 7.456c0 1.060-0.859 1.919-1.919 1.919s-1.919-0.859-1.919-1.919c0-1.060 0.859-1.919 1.919-1.919s1.919 0.859 1.919 1.919z"></path>
		</symbol>
		<symbol id="icon-twitter" viewBox="0 0 32 32">
		    <path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
		</symbol>
	    </defs>
	</svg>
	<!-- End of SVG Icons definitions -->
 	<main>	
	    <header class="page-header">
		<h1>Comitê de Luta pelo Auxílio Alimentação da USP</h1>
	    </header>

	    <div class="wrap">
		<article class="note">
		    <div class="chartMenu">
				<p>Auxílios por campus</p>
			  </div>
			  <div class="chartCard">
				<div class="chartBox">
				  <canvas id="myChart"></canvas>
				</div>
				<div class="selectBox">
				  <select id="aux">
					  <option value="0">Bauru - Apoio Moradia</option>
					  <option value="1">Bauru - Auxílio Moradia</option>
					  <option value="2">Bauru - Auxílio Alimentação</option>
					  <option value="3">Bauru - Auxílio Transporte</option>
					  <option value="4">Bauru - Auxílio Livro</option>
				  </select>
				</div>
			  </div>
		  
			  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.0.0/d3.min.js" integrity="sha512-0x7/VCkKLLt4wnkFqI8Cgv6no+AaS1TDgmHLOoU3hy/WVtYta2J6gnOIHhYYDJlDxPqEqAYLPS4gzVex4mGJLw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		  
			  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
			  <script>
		  
				  // setup 
				  const data = {
					labels: ['2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021'],
					datasets: [{
					  type: 'line',
					  label: 'Contemplados',
					  data: [3, 0, 0, 0, 3, 8, 12, 15, 14],
					  borderColor: [
						'#f40000'
					  ],
					  backgroundColor: [
						'#f40000',
					  ]
					},{
					  label: 'Pleiteantes',
					  data: [27, 122, 64, 39, 65, 91, 125, 96, 70, 139],
					  backgroundColor: [
						'#152039',
					  ],
					  borderWidth: 1
					},]
				  };
			  
				  // config 
				  const config = {
					type: 'bar',
					data,
					options: {
					  scales: {
						y: {
						  beginAtZero: true
						}
					  }
					}
				  };
			  
				  // render init block
				  const myChart = new Chart(
					document.getElementById('myChart'),
					config
				  );
		  
				  var list = [
					  {contemplados: '3, 0, 0, 0, 3, 8, 12, 15, 14', pleiteantes: '27, 122, 64, 39, 65, 91, 125, 96, 70, 139'},
					  {contemplados: '8, 1, 0, 0, 11, 18, 30, 37, 33', pleiteantes: '24, 122, 64, 39, 62, 91, 125, 96, 70, 139'},
					  {contemplados: '24, 38, 34, 45, 46, 42, 46, 77, 49', pleiteantes: '42, 79, 66, 77, 132, 83, 113, 81, 56, 162'},
					  {contemplados: '5, 4, 5, 15, 25, 27, 27, 19, 11', pleiteantes: '13, 49, 40, 34, 70, 49, 63, 76, 42, 70'},
					  {contemplados: '3, 2, 3, 4, 3, 3, 3, 5, 1', pleiteantes: '31, 66, 58, 69, 102, 84, 86, 86, 71, 119'}
				  ]
		  
				  const aux = document.getElementById('aux');
				  aux.addEventListener('change', auxTracker)
				  function auxTracker(){
					  console.log(list[aux.value].pleiteantes.split(','));
					  data.datasets[1].data = list[aux.value].pleiteantes.split(',');
					  data.datasets[0].data = list[aux.value].contemplados.split(',');
					  myChart.update();
		  
				  }
				  </script>
		</article>
	    </div>
	    <footer class="page-footer">
		<div class="wrap">
		    <ul class="social-media-links">
			<li>
			    <a href="https://facebook.com/alimentacaonausp/">
				<svg class="icon"><use xlink:href="#icon-facebook"></use></svg>
			    </a>
			</li>
			<li>
			    <a href="https://www.instagram.com/alimentacaonausp/">
				<svg class="icon"><use xlink:href="#icon-instagram"></use></svg>
			    </a>
			</li>
			<li>
			    <a href="https://twitter.com/AlimentacaoUsp/">
				<svg class="icon"><use xlink:href="#icon-twitter"></use></svg>
			    </a>
			</li>
		    </ul>
		</div>
	    </footer>
	</main>
    </body>
</html>
